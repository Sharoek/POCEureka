# Generated by Django 4.2.11 on 2024-07-04 14:21

import django.db.models.deletion
from django.db import migrations, models

import django_jsonform.models.fields

import openforms.appointments.contrib.qmatic.models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ("zgw_consumers", "0012_auto_20210104_1039"),
    ]

    operations = [
        migrations.CreateModel(
            name="QmaticConfig",
            fields=[
                (
                    "id",
                    models.AutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "service",
                    models.OneToOneField(
                        help_text="The Qmatic Orchestra Calendar Public Appointment API service. Example: https://example.com:8443/calendar-backend/public/api/v1/",
                        limit_choices_to={"api_type": "orc"},
                        null=True,
                        on_delete=django.db.models.deletion.PROTECT,
                        related_name="+",
                        to="zgw_consumers.service",
                        verbose_name="Calendar API",
                    ),
                ),
                (
                    "required_customer_fields",
                    django_jsonform.models.fields.ArrayField(
                        base_field=models.CharField(
                            choices=[
                                ("firstName", "First name"),
                                ("lastName", "Last name"),
                                ("email", "Email address"),
                                ("phone", "Phone number"),
                                ("addressLine1", "Street name and number"),
                                ("addressLine2", "Address line 2"),
                                ("addressCity", "City"),
                                ("addressState", "State"),
                                ("addressZip", "Postal code"),
                                ("addressCountry", "Country"),
                                ("identificationNumber", "Identification number"),
                                (
                                    "externalId",
                                    "Unique customer identification/account number",
                                ),
                                ("dateOfBirth", "Birthday"),
                            ],
                            max_length=50,
                        ),
                        default=openforms.appointments.contrib.qmatic.models.get_default_customer_fields,
                        help_text="Select the customer fields for the contact details step. Fields that you select here are REQUIRED fields for the user making the appointment. You must have at least one field to be able to identify the customer.",
                        size=None,
                        verbose_name="Required customer fields",
                    ),
                ),
            ],
            options={
                "verbose_name": "Qmatic configuration",
            },
        ),
    ]
